# Solana自动跟单工具。

```markdown
# Solana 自动跟单机器人 🤖

一个基于 Solana 区块链的智能跟单交易系统，可自动跟随"聪明钱包"进行代币买卖操作。

## 功能特点 ✨

- **实时监控**: 通过 WebSocket 实时监控目标钱包的交易活动
- **自动跟单**: 自动复制目标钱包的买入和卖出操作
- **资金管理**: 可配置跟单比例、单笔最大限额和最低保留金额
- **分批卖出**: 支持分多个批次卖出持仓，优化收益
- **白名单/黑名单**: 基于代币持有人进行交易过滤和加权
- **冷却机制**: 防止对同一代币重复操作
- **持久化存储**: 自动保存持仓状态，重启后不丢失数据

## 安装依赖 📦

```bash
pip install solders aiohttp websockets
```

## 配置说明 ⚙️

在代码开头部分修改以下配置：

```python
# API 配置
API_KEY = "你的_Helius_API_Key"  # 从 https://helius.xyz 获取

# 钱包配置
SMART_WALLET = "要跟单的聪明钱包地址"  # 领导钱包
FOLLOWER_SECRET = os.getenv("FOLLOWER_SECRET", "你的跟单钱包私钥")

# 交易参数
SLIPPAGE_TOLERANCE = 0.128  # 滑点容忍度 (12.8%)
FOLLOW_RATIO = 0.01         # 跟单比例 (1%)
MAX_PER_TRADE_SOL = 0.18    # 单笔最大交易额
MIN_SOL_RESERVE = 0.02      # 最小SOL保留金额

# 代理配置 (如需要)
PROXY = "http://127.0.0.1:端口"  # 或设置为 None
```

## 使用方法 🚀

### 1. 获取 Helius API Key
访问 [Helius](https://helius.xyz) 注册并获取免费的 RPC 服务。

### 2. 准备跟单钱包
- 创建一个新的 Solana 钱包用于跟单
- 存入少量 SOL 作为交易资金
- **重要**: 不要使用存有大量资金的主钱包

### 3. 设置环境变量 (推荐)
```bash
export FOLLOWER_SECRET="你的跟单钱包私钥"
```

### 4. 运行机器人
```bash
python swap.py
```

## 核心配置详解 🔧

### 资金管理
```python
FOLLOW_RATIO = 0.01      # 跟单比例：花费 = 领导花费 × 1%
MAX_PER_TRADE_SOL = 0.18 # 单笔最多花费 0.18 SOL
MIN_SOL_RESERVE = 0.02   # 至少保留 0.02 SOL 不动
```

### 卖出策略
```python
SELL_STEPS = [0.25, 0.40, 0.50, 0.50, 1.00]  # 分批卖出比例
MIRROR_SELL = True       # 是否跟单卖出操作
COOLDOWN_SEC = 6         # 同一代币操作冷却时间
```

### 名单系统
```python
VIP_WALLETS = {"VIP钱包地址"}        # 白名单：持有则加大买入
BLACKLIST_WALLETS = {"黑名单地址"}    # 黑名单：持有则跳过交易
weighted_ratio = 2                  # 白名单加权倍数
```

## 工作流程 🔄

1. **监听**: 通过 WebSocket 订阅目标钱包的交易日志
2. **分析**: 解析交易，识别买入/卖出操作和目标代币
3. **过滤**: 检查代币持有人是否在白名单/黑名单中
4. **执行**: 通过 Jupiter API 执行跟单交易
5. **记录**: 更新本地持仓状态和交易记录

## 文件结构 📁

```
├── swap.py                 # 主程序文件
├── positions.json          # 持仓记录 (自动生成)
├── README.md              # 说明文档
└── requirements.txt       # 依赖列表
```

## 风险提示 ⚠️

1. **资金风险**: 只投入你能承受完全损失的资金
2. **技术风险**: 代码可能存在bug，建议先用小额测试
3. **市场风险**: 跟单不保证盈利，可能产生亏损
4. **监管风险**: 确保遵守当地法律法规

## 常见问题 ❓

**Q: 如何选择跟单的"聪明钱包"？**
A: 建议选择有长期盈利记录、交易风格稳健的知名交易者钱包。

**Q: 跟单延迟有多大？**
A: helius免费节点通常在几秒到几十秒内完成跟单，具体取决于网络状况。跟单速度不取决于本工具，取决于你在helius的节点是否足够快，理论上是能实现毫秒级的。

**Q: 支持同时跟多个钱包吗？**
A: 当前版本支持单个钱包，可以修改代码实现多钱包跟单。

**Q: 如何监控机器人的运行状态？**
A: 程序会在控制台输出详细的交易日志。

## 技术支持 💬

如有问题请提交 Issue 或联系开发者。
官方Twitter：[@opulse_protocol](https://x.com/opulse_protocol/)

## 许可证 📄

MIT License

---

**免责声明**: 本工具仅用于技术学习交流，使用过程中产生的任何资金损失由用户自行承担。

---

## 🤝 支持与赞助

如果您觉得这个项目对您有帮助，请考虑给它一个 ⭐️ **Star** 以示鼓励。如果它为您节省了时间或解决了大问题，也欢迎 **请我们喝杯咖啡** ☕️，这将激励我持续维护和更新。

**[赞助我]**: solana钱包地址：rAyqwMpQF85DkWqNNMFytV5MB2GGhEhXqLKB2V6gf8p